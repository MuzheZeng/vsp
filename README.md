
<!-- README.md is generated from README.Rmd. Please edit that file -->

# vsp

The goal of vsp is to …

## Installation

`vsp` is experimental and nascent. If you are a collaborator on the
project, you can install the development version with:

``` r
install.packages("devtools")
devtools::install_github("alexpghayes/vsp", auth_token = NEED_TO_DO_THIS)
```

You’ll need to set up a Github auth token. See the documentation in
`?remotes::install_github()` for details on how to do this.

## Example

This is a basic example which shows you how to solve a common problem:

``` r
library(vsp)
library(Matrix)

M <- rsparsematrix(12, 12, nnz = 40)  # this breaks things
M2 <- sign(M)^2                       # but this doesn't
vsp(M2, k = 7)
#> [1] "The input matrix is not symmetric.  Performing a two-way analysis."
#> $Z
#>              [,1]         [,2]         [,3]        [,4]         [,5]
#>  [1,] -0.05293879  0.007926485  0.693576952 -0.09958777 -0.086844905
#>  [2,]  0.06182374  0.013448201  0.004935620 -0.07198137 -0.168142243
#>  [3,]  0.04288473  0.131949088  0.055310960 -0.08188261 -0.506291873
#>  [4,]  0.09482479  0.010605132  0.001693205 -0.08732576  0.739693802
#>  [5,] -0.30124553  0.359424954 -0.422499491 -0.06788081  0.211089539
#>  [6,]  0.85575522 -0.027742238 -0.040098116 -0.04955851  0.046167594
#>  [7,]  0.03906740 -0.313729274 -0.491750916 -0.14092717 -0.234789488
#>  [8,] -0.11840450  0.652265499  0.058468625 -0.11283120 -0.083213021
#>  [9,] -0.22861784 -0.355405001  0.282089936 -0.05318855  0.207060326
#> [10,] -0.03314286 -0.017802884 -0.020374483  0.95188263 -0.026936755
#> [11,] -0.06650021 -0.011908162 -0.020925557 -0.04553856 -0.006554333
#> [12,] -0.29350616 -0.449031800 -0.100426736 -0.14118032 -0.091238641
#>              [,6]         [,7]
#>  [1,] -0.05114321 -0.043561984
#>  [2,]  0.80195944 -0.047312156
#>  [3,] -0.44044237 -0.104164917
#>  [4,] -0.27700398 -0.043698732
#>  [5,]  0.14292189 -0.148798282
#>  [6,]  0.03637933 -0.090000879
#>  [7,] -0.13134239  0.006994596
#>  [8,] -0.06280388 -0.093436479
#>  [9,]  0.15585825 -0.093467498
#> [10,] -0.03308792 -0.042031703
#> [11,] -0.01960491  0.936657248
#> [12,] -0.12169025 -0.237179213
#> 
#> $B
#>             [,1]        [,2]        [,3]         [,4]        [,5]
#> [1,] -0.14698146 -0.04311666 -0.09042296 -0.024658350  0.17998061
#> [2,] -0.10866346  0.13581050 -0.10319194  0.016346440 -0.02420773
#> [3,] -0.08634138  0.14184651  0.15645246  0.016383883 -0.04584181
#> [4,] -0.12761791 -0.05628526 -0.08053125  0.181702882 -0.05516922
#> [5,] -0.21873260 -0.11893924  0.06927532 -0.033011028  0.02136774
#> [6,] -0.12373347  0.02436849  0.07962535  0.109375962  0.11089327
#> [7,]  0.04641419  0.07226210 -0.06235993 -0.003482811  0.10494423
#>             [,6]         [,7]
#> [1,] -0.08984078 -0.008329567
#> [2,]  0.17600570  0.012979593
#> [3,] -0.04106594  0.003844619
#> [4,] -0.08360837  0.010788871
#> [5,]  0.07839336  0.115785665
#> [6,]  0.09920267 -0.049467781
#> [7,]  0.06617369  0.137774617
#> 
#> $Y
#>               [,1]        [,2]        [,3]        [,4]         [,5]
#>  [1,] -0.369879202 -0.12558807  0.02598634 -0.29863994  0.401428146
#>  [2,]  0.018702812 -0.00961038  0.03795387 -0.09784597  0.085845689
#>  [3,] -0.002829859  0.89085497 -0.06270783 -0.07799376  0.015917967
#>  [4,]  0.441214249 -0.20773876 -0.14615307 -0.22086444 -0.090260748
#>  [5,] -0.022536904 -0.07326462  0.86919971 -0.03685507 -0.009913411
#>  [6,]  0.036498593  0.16736721  0.01707225  0.18366047  0.757629342
#>  [7,]  0.000000000  0.00000000  0.00000000  0.00000000  0.000000000
#>  [8,] -0.060869741 -0.08419399 -0.12571539 -0.03328915 -0.038677200
#>  [9,]  0.606831881 -0.06102909 -0.12378147 -0.02286969  0.118236088
#> [10,] -0.507301805 -0.17080276 -0.32980742 -0.01211770 -0.104586429
#> [11,] -0.020059143 -0.09163394 -0.03796787  0.85822411  0.062765451
#> [12,]  0.068889120 -0.19624530 -0.04078647 -0.09425294  0.653531381
#>               [,6]          [,7]
#>  [1,] -0.024608435 -0.2751012083
#>  [2,]  0.004593888  0.8324009799
#>  [3,] -0.051439130  0.0003497665
#>  [4,] -0.188230175 -0.3324847461
#>  [5,] -0.090339960  0.0448511512
#>  [6,] -0.030405843  0.0587670027
#>  [7,]  0.000000000  0.0000000000
#>  [8,]  0.840406276  0.0382940716
#>  [9,] -0.175661122  0.2010873866
#> [10,] -0.447064263  0.2198082770
#> [11,] -0.030975899 -0.0845794016
#> [12,]  0.001633494  0.1436308761
#> 
#> $scree
#> [1] 0.14727027 0.09193839 0.07738737 0.05858186 0.04300343 0.02500635
#> [7] 0.02005469
#> 
#> $U
#>              [,1]        [,2]        [,3]        [,4]         [,5]
#>  [1,]  0.05509095  0.24612523  0.44861745  0.09115350 -0.276809936
#>  [2,] -0.27170566  0.17693556  0.10907280 -0.05696242 -0.487199321
#>  [3,]  0.48492543  0.01228542 -0.08812173 -0.26175430 -0.116743263
#>  [4,] -0.34342811 -0.10317569 -0.02146574  0.46362151  0.471203381
#>  [5,] -0.10475931  0.24091694 -0.10748342 -0.07577043  0.436251807
#>  [6,] -0.37360212 -0.39708002 -0.33098893  0.12239841 -0.428789696
#>  [7,]  0.38899148 -0.31498208 -0.33828812  0.06279492  0.006694041
#>  [8,] -0.03708128  0.49417904 -0.03904676 -0.25930697  0.123517785
#>  [9,] -0.00250340 -0.03427406  0.43353145  0.31303056 -0.007871924
#> [10,] -0.25882406 -0.41913139  0.21548692 -0.68302854  0.219519410
#> [11,]  0.01619181  0.32884355 -0.50644142  0.07754504 -0.043402611
#> [12,]  0.44670427 -0.23064251  0.22512749  0.20627872  0.103630326
#>              [,6]        [,7]
#>  [1,] -0.38910751  0.06840869
#>  [2,]  0.54851514 -0.15605805
#>  [3,] -0.24550504  0.32357213
#>  [4,] -0.22613378  0.15924097
#>  [5,]  0.44444514  0.12656516
#>  [6,] -0.10740976  0.36265965
#>  [7,]  0.25080921 -0.04687647
#>  [8,] -0.01907634  0.38111052
#>  [9,]  0.03393241 -0.22034637
#> [10,] -0.15921158 -0.28694496
#> [11,] -0.31946524 -0.64030586
#> [12,]  0.18820734 -0.07102540
#> 
#> $V
#>               [,1]        [,2]        [,3]         [,4]         [,5]
#>  [1,] -0.343002265 -0.16411855 -0.12918404  0.288335068 -0.285152133
#>  [2,] -0.119548321  0.10538075 -0.25519711  0.310531730  0.279529593
#>  [3,]  0.108274027  0.55709643  0.01239655 -0.237237412 -0.444808246
#>  [4,]  0.537459408 -0.27744728 -0.10839502  0.004678775 -0.004672313
#>  [5,]  0.002873122  0.02252071  0.61304671  0.569176420 -0.127419033
#>  [6,] -0.222440685  0.02101190 -0.34432413  0.085037789 -0.593715426
#>  [7,]  0.000000000  0.00000000  0.00000000  0.000000000  0.000000000
#>  [8,] -0.230377961  0.52343207 -0.24504889  0.015056570  0.401673307
#>  [9,]  0.504516571 -0.12688015 -0.30951715  0.042295104 -0.028527335
#> [10,] -0.371219321 -0.47377618 -0.04871247 -0.158949240  0.166607995
#> [11,] -0.219421431 -0.18039269  0.18791380 -0.549545382 -0.112797336
#> [12,] -0.156279008 -0.16307295 -0.46729333  0.321955999 -0.267029824
#>              [,6]        [,7]
#>  [1,]  0.14287241  0.36570419
#>  [2,] -0.48821720 -0.45639151
#>  [3,] -0.45541344  0.15091264
#>  [4,]  0.19289977  0.21736559
#>  [5,]  0.04202001 -0.23389838
#>  [6,]  0.06623324 -0.33037874
#>  [7,]  0.00000000  0.00000000
#>  [8,]  0.43147266  0.04593965
#>  [9,] -0.06452200 -0.31604574
#> [10,] -0.45814068  0.16435451
#> [11,]  0.27800669 -0.50083135
#> [12,]  0.11381934 -0.21034837
#> 
#> attr(,"class")
#> [1] "vsp"
```


<!-- README.md is generated from README.Rmd. Please edit that file -->

# vsp

The goal of vsp is to …

## Installation

`vsp` is experimental and nascent. If you are a collaborator on the
project, you can install the development version with:

``` r
install.packages("devtools")
devtools::install_github("alexpghayes/vsp", auth_token = NEED_TO_DO_THIS)
```

You’ll need to set up a Github auth token. See the documentation in
`?remotes::install_github()` for details on how to do this.

## Example

This is a basic example which shows you how to solve a common problem:

``` r
library(vsp)
library(Matrix)

M <- rsparsematrix(12, 12, nnz = 40)  # this breaks things
M2 <- sign(M)^2                       # but this doesn't
vsp(M2, k = 7)
#> [1] "The input matrix is not symmetric.  Performing a two-way analysis."
#> $Z
#>               [,1]        [,2]         [,3]         [,4]         [,5]
#>  [1,] -0.115335624 -0.02970810 -0.062802474  0.715054030  0.017848654
#>  [2,] -0.121119903 -0.19901118  0.049162173  0.235490509  0.674021993
#>  [3,]  0.491355714 -0.05638272 -0.106109130  0.085732291 -0.074217724
#>  [4,] -0.128904631 -0.03586026  0.802365816 -0.039421776 -0.028582343
#>  [5,] -0.263643278 -0.14751155 -0.066378522 -0.465211956 -0.111089252
#>  [6,] -0.127061446 -0.09735368 -0.075191930 -0.116407018 -0.109757648
#>  [7,] -0.002570857 -0.02976311  0.008205080 -0.379924881  0.295730120
#>  [8,] -0.103783345 -0.18371624  0.085114048  0.178295077 -0.651197879
#>  [9,]  0.728263073 -0.07584627 -0.040365814 -0.092102336 -0.005197695
#> [10,] -0.291393525 -0.06029349 -0.564883929 -0.029634822 -0.037067217
#> [11,] -0.025543623 -0.02225739 -0.020478710 -0.094163255  0.040363366
#> [12,] -0.040262555  0.93770398 -0.008636608  0.002294137 -0.010854375
#>               [,6]        [,7]
#>  [1,] -0.232571958 -0.08465011
#>  [2,]  0.087160622 -0.05312466
#>  [3,] -0.051486869 -0.17287245
#>  [4,] -0.025909792 -0.07521449
#>  [5,] -0.157921281 -0.54855040
#>  [6,] -0.033856422  0.76207227
#>  [7,] -0.397026893  0.24601100
#>  [8,] -0.002286542  0.04914566
#>  [9,] -0.029829568 -0.01542380
#> [10,] -0.005748632 -0.09451141
#> [11,]  0.866067005  0.01114273
#> [12,] -0.016589670 -0.02402436
#> 
#> $B
#>             [,1]        [,2]        [,3]        [,4]        [,5]
#> [1,] -0.15541312 -0.15241725 -0.09794879 -0.14422241 -0.10192963
#> [2,]  0.18862153 -0.10532309 -0.03567186  0.08537360 -0.06744835
#> [3,]  0.04058374 -0.06995094  0.13975707 -0.08761074  0.11990133
#> [4,] -0.10406608 -0.12717443  0.14309006  0.10082172 -0.05718223
#> [5,]  0.03360684  0.11463818  0.11750665 -0.10911624 -0.12471362
#> [6,]  0.03619816 -0.07084269 -0.01938446 -0.03864788 -0.02822552
#> [7,]  0.05686082  0.06909985 -0.01786337  0.07559620 -0.09524533
#>             [,6]        [,7]
#> [1,] -0.12894659 -0.09609206
#> [2,] -0.06828666  0.06282919
#> [3,] -0.08289348  0.13483128
#> [4,] -0.05328162 -0.03134928
#> [5,]  0.07583809 -0.05699346
#> [6,]  0.13022044  0.13556004
#> [7,] -0.09453895  0.13038484
#> 
#> $Y
#>               [,1]        [,2]        [,3]         [,4]        [,5]
#>  [1,]  0.034219510 -0.04354145  0.02717977 -0.081270441  0.88917694
#>  [2,]  0.080786028  0.82519257 -0.06238104 -0.003969326 -0.06105940
#>  [3,] -0.218376768 -0.21786505 -0.27993719 -0.343567535 -0.16445503
#>  [4,]  0.008831592 -0.04289238 -0.02619674 -0.061029547 -0.05600393
#>  [5,] -0.040877295 -0.05780558  0.86247784 -0.043751482  0.02387409
#>  [6,] -0.130256177 -0.07490696 -0.19919042 -0.277434173 -0.13352611
#>  [7,]  0.033818449 -0.18545926 -0.10740720  0.079246759  0.03959218
#>  [8,]  0.000000000  0.00000000  0.00000000  0.000000000  0.00000000
#>  [9,] -0.523649588 -0.22531622  0.23896904  0.081067562 -0.17241489
#> [10,] -0.042452114 -0.01085365 -0.04992465  0.832157408 -0.10834901
#> [11,] -0.333448377 -0.20261026 -0.23639136  0.292379190  0.30447571
#> [12,]  0.734931634 -0.38882510 -0.01024144  0.068838647 -0.10961490
#>              [,6]        [,7]
#>  [1,] -0.06860774  0.00688538
#>  [2,] -0.06187612 -0.13890544
#>  [3,] -0.19700998 -0.13888946
#>  [4,]  0.93155285 -0.02201075
#>  [5,] -0.03343292 -0.06150844
#>  [6,] -0.17085029 -0.01434617
#>  [7,] -0.01430969  0.79637797
#>  [8,]  0.00000000  0.00000000
#>  [9,] -0.06001818 -0.11944588
#> [10,] -0.10019301  0.03497005
#> [11,]  0.12202002 -0.44595575
#> [12,] -0.09462548 -0.34075867
#> 
#> $scree
#> [1] 0.14011656 0.10360775 0.07329365 0.05590520 0.04975366 0.03535484
#> [7] 0.02021757
#> 
#> $U
#>                [,1]        [,2]        [,3]        [,4]        [,5]
#>  [1,]  1.887559e-01 -0.14003746 -0.17816988  0.65266246  0.19281058
#>  [2,]  4.525065e-03  0.40783225 -0.27910297  0.37551283 -0.42059819
#>  [3,]  5.218888e-01 -0.09806856  0.06849511 -0.10191897 -0.02701891
#>  [4,] -2.243356e-01 -0.21668541 -0.68108426 -0.15021172 -0.05826696
#>  [5,] -6.898735e-02  0.43628250 -0.08864759 -0.37319700  0.40499331
#>  [6,] -3.079217e-01 -0.08374372  0.30410125  0.11547595 -0.01242366
#>  [7,] -8.032949e-02  0.27072924  0.17081396  0.03820120 -0.14313809
#>  [8,] -2.862615e-05 -0.32037688 -0.12835184 -0.07349899  0.54847025
#>  [9,]  6.083329e-01 -0.12011900  0.13826930 -0.25864535 -0.23104833
#> [10,] -8.704684e-02  0.33972291  0.35833305  0.11941367  0.29142785
#> [11,] -2.324185e-01  0.02802694 -0.04052023 -0.39588860 -0.34106854
#> [12,] -3.224345e-01 -0.50356282  0.35586409  0.05209454 -0.20413929
#>              [,6]         [,7]
#>  [1,] -0.19873473  0.037172079
#>  [2,] -0.12126109 -0.003156220
#>  [3,] -0.04238904  0.040882797
#>  [4,]  0.27320376  0.092946914
#>  [5,]  0.01410168  0.379247522
#>  [6,]  0.36003657 -0.548955544
#>  [7,]  0.55939521  0.084352558
#>  [8,] -0.04772543 -0.287089543
#>  [9,]  0.14401081 -0.052449029
#> [10,] -0.26126067  0.004319627
#> [11,] -0.56834151 -0.331279338
#> [12,] -0.11103556  0.584008178
#> 
#> $V
#>              [,1]        [,2]        [,3]        [,4]        [,5]
#>  [1,] -0.12096561 -0.04432388 -0.50887383 -0.37392079  0.55035709
#>  [2,] -0.19953872  0.57348861  0.25433531  0.15963708  0.04269696
#>  [3,]  0.49681487 -0.11187180  0.12479222 -0.24856337 -0.18207759
#>  [4,] -0.15356782  0.51442916 -0.02858301 -0.19711272 -0.07408892
#>  [5,] -0.01875075  0.01575506 -0.64297303  0.53664636 -0.18658968
#>  [6,]  0.28659609 -0.06606823  0.09030658 -0.19364656 -0.17941976
#>  [7,] -0.40504249 -0.44930552 -0.08978802 -0.27776881 -0.10144505
#>  [8,]  0.00000000  0.00000000  0.00000000  0.00000000  0.00000000
#>  [9,]  0.46310560 -0.10248515 -0.17223629  0.31902822  0.01489586
#> [10,] -0.19589222 -0.29065998  0.36260978  0.47696370  0.42878196
#> [11,]  0.38605217  0.04114369  0.08147762 -0.01958202  0.60512058
#> [12,] -0.16345754 -0.29803629  0.25009920  0.04196931 -0.17058018
#>              [,6]         [,7]
#>  [1,]  0.20199746  0.216189731
#>  [2,]  0.49937981 -0.090273880
#>  [3,]  0.08225743 -0.009489581
#>  [4,] -0.73776753 -0.007701969
#>  [5,] -0.01995591  0.138015524
#>  [6,]  0.13355891 -0.065292373
#>  [7,] -0.09984047 -0.466833887
#>  [8,]  0.00000000  0.000000000
#>  [9,] -0.17814027 -0.218816469
#> [10,] -0.15838377 -0.170654203
#> [11,] -0.24788567  0.121271280
#> [12,] -0.11080884  0.782309255
#> 
#> attr(,"class")
#> [1] "vsp"
```
